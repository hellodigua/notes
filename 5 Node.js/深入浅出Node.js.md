# 《深入浅出Node.js》

## 目录

1. Node简介
2. 模块机制
3. 异步I/O
4. 异步编程
5. 内存控制
6. 理解Buffer
7. 网络编程
8. 构建Web应用
9. 玩转进程
10. 测试
11. 产品化

## Node简介

### 作者为什么选择Javascript作为开发语言？

设计高性能Web服务器的几个要点： 事件驱动、非阻塞I/O。

考虑到高性能、符合事件驱动、没有历史包袱这3个主要原因，JavaScript 成为了Node的实现语言。

### Node的特点

- 异步I/O

在Node中，绝大多数的操作都以异步的方式进行调用。这样的意义在于，在Node中，我们可以从语言层面很自然地进行并行I/O操作。每个调用之间无须等待之前的I/O调用结束。在编程模型上可以极大提升效率。

- 事件与回调函数

事件的编程方式具有轻量级、松耦合、只关注事务点等优势，但是在多个异步任务的场景下， 事件与事件之间各自独立，如何协作是一个问题。

与其他的Web后端编程语言相比，Node除了异步和事件外，回调函数是一大特色。纵观下来， 回调函数也是最好的接受异步调用返回数据的方式。

- 单线程

且在Node中，JavaScript与其余线程是无法共享任何状态的。

单线程的最大好处是不用像多线程编程那样处处在意状态的同步问题，这里没有死锁的存在，也没有线程上下文交换所带来的性能上的开销。

单线程的弱点在以下3方面：

    1. 无法利用多核CPU。
    2. 错误会引起整个应用退出，应用的健壮性值得考验。
    3. 大量计算占用CPU导致无法继续调用异步I/O。

    为了解决这一问题，HTML5定制了Web Workers的标准。Web Workers能够创建工作线程来进行计算，以解决JavaScript 大计算阻塞UI渲染的问题。工作线程为了不阻塞主线程，通过消息传递的方式来传递运行结果，这也使得工作线程不能访问到主线程中的UI。

Node 采用了与 Web Workers相同的思路来解决单线程中大计算量的问题: child_process。

- 跨平台

兼容 Windows 和 *nix平台

### Node的应用场景

- I/O密集型

那么从单线程的角度来说，Node 处理I/O的能力很强。Node 面向网络且擅长并行 I/O，能够有效地组织起更多的硬件资源，从而提供更多好的服务。

- CPU密集型业务

关于CPU密集型应用，Node的异步 I/O 已经解决了在单线程上 CPU 与I/O之间阻塞无法重叠 利用的问题，I/O 阻塞造成的性能浪费远比CPU的影响小。

- 与旧系统和平共处

- 分布式应用

