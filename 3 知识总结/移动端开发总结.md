# 移动端开发的宗旨
  保证浏览器窗口的尺寸变化时网页也能流畅地适应
  没了

# 注意事项

## 加载性能优化, 达到打开足够快

  数据离线化，考虑将数据缓存在 localStorage
  初始请求资源数 < 4 注意！
  图片使用CSS Sprites 或 DataURI
  外链 CSS 中避免 @import 引入
  考虑内嵌小型的静态资源内容
  初始请求资源gzip后总体积 < 50kb
  静态资源(HTML/CSS/JS/Image)是否优化压缩？
  避免打包大型类库
  确保接入层已开启Gzip压缩（考虑提升Gzip级别，使用CPU开销换取加载时间） 注意！
  尽量使用CSS3代替图片
  初始首屏之外的静态资源（JS/CSS）延迟加载 注意！
  初始首屏之外的图片资源按需加载（判断可视区域） 注意！
  单页面应用(SPA)考虑延迟加载非首屏业务模块
  开启Keep-Alive链路复用

## 运行性能优化, 达到操作足够流畅

  避免 iOS 300+ms 点击延时问题 注意！
  缓存 DOM 选择与计算
  避免触发页面重绘的操作
  Debounce连续触发的事件(scroll / resize / touchmove等)，避免高频繁触发执行 注意！
  尽可能使用事件代理，避免批量绑定事件
  使用CSS3动画代替JS动画
  避免在低端机上使用大量CSS3渐变阴影效果，可考虑降级效果来提升流畅度
  HTML结构层级保持足够简单
  尽能少的使用CSS高级选择器与通配选择器
  Keep it simple

## 移动端屏幕适配优化，适配所有屏幕

  放弃CSS float属性，直接使用display:inline-block
  自适应布局模式，不要把宽度定死
  学会使用webkit-box，它可以帮助前端工程师做到盒子模型灵活控制
  使用html5和css3开发

# 移动端的适配方案

Q:适配达到的效果是什么？
A:在不同尺寸的手机设备上，页面“相对性的达到合理的展示（自适应）”或者“保持统一效果的等比缩放（看起来差不多）”。

Q:适配应关注哪些要素？
A:一般来说，需要关注的是：字体、高宽间距、图像（图标、图片）。其中，图像相对要复杂一些，满足快速开发的需求下，可以使用较为偷懒的方式：利用 css 将图像限定在元素内（ img 图片使用 [max-]width: 100% / px，背景图像使用 background-size ），布局只针对元素进行。

## 三种移动端的适配方案

### 固定高度，宽度自适应
### 固定宽度，viewport缩放（绝对的等比例缩放）
### rem做宽度，viewport缩放

## 移动端适配方案详解

### 固定高度，宽度自适应

这是目前最通用的一种做法，属于自适应布局，viewport width 设置为 device-width，垂直方向的高度和间距使用定值，水平方向混合使用定值和百分比或者利用弹性布局，最终达到“当手机屏幕变化时，横向拉伸或者填充空白的效果”。

优点：开发快速，适合处理简单页面

缺点：太笨了，对于复杂页面力不从心（仅仅是做排版，而不是适配了）

### 固定宽度，viewport缩放

视觉稿、页面宽度、viewport width 使用统一宽度，超出部分留白，利用浏览器自身缩放完成适配。页面样式（包括图像元素）完全按照视觉稿的尺寸，使用定值单位 （px、em）即可完成。

优点：
开发简单，缩放交给浏览器，完全按视觉稿切图。
还原精准，绝对等比例缩放，可以精准还原视觉稿（不考虑清晰度的情况下）。
测试方便，在PC端即可完成大部分测试，手机端只需酌情调整一些细节（比如图标、字体混合排列时，因为字体不同造成的对齐问题）。

缺点：
缩放失效，某些安卓机不能正常的根据 meta 标签中 width 的值来缩放 viewport，需要配合 initial-scale 。
文本折行，存在于缩放失效的机型中，某些手机为了便于文本的阅读，在文本到达 viewport 边缘（非元素容器的边缘）时即进行折行，而当 viewport 宽度被修正后，浏览器并没有正确的重绘，所以就发现文本没有占满整行。（可以用word-break: break-all;解决）


### rem做宽度，viewport缩放

rem（font size of the root element）是指相对于根元素的字体大小的单位。简单的说它就是一个相对单位。页面任何需要弹性适配的元素，尺寸均换算为 rem 进行布局；当页面渲染时，根据页面有效宽度进行计算，调整 rem 的大小，动态缩放以达到适配的效果。

优点：
清晰度高，能达到物理像素的清晰度。
向后兼容较好，即便屏幕宽度增加、PPI 增加该方案依旧适用。

缺点：
适配 js 需尽可能早进入，减少（避免）viewport 变化引起的重绘。
某些Android机会丢掉 rem 小数部分。
需要预编译库进行单位转换。

注意：
不用写 meta 标签，该方法根据 dpr 自动生成meta viewport标签，并在 html 标签中加上 data-dpr 和 font-size 两个属性值。
较小的背景图（比如一些 icon）的 background-size 不要使用具体 rem 数值，裁剪后会出现边缘丢失。应使用与元素等尺寸切图，设定 background-size: contain|cover 来缩放。

对定宽和rem适配进行整合的[js源码在此](https://github.com/re54k/mobileweb-utilities/blob/master/util/mobile-util.js)

### 总结
第一种方案用来对简单的排版做出适配，第二种和第三种可以完美实现设计图。
第二种和第三种方案的区别；第三种方案更加灵活，有两种单位可以使用，想让元素适配的时候就用rem，想让文字不缩放的时候就用px。

###备注
除了这三种之外还可以使用响应式做法，即用@media媒体查询，这种方式可以从web page到mobile page一步到位，因为这样可以节约成本，不用再专门为自己的网站做一个web app的版本。

# head头标签

一个典型的针对移动端优化的站点可能包含类似下面的内容：
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
  <meta content="yes" name="apple-mobile-web-app-·">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">

  第一个meta标签表示：强制让文档的宽度与设备的宽度保持1:1，并且文档最大的宽度比例是1.0，且不允许用户点击屏幕放大浏览；
  第二个meta标签是iphone设备中的safari私有meta标签，它表示：允许全屏模式浏览；
  第三个meta标签也是iphone的私有标签，它指定的iphone中safari顶端的状态条的样式；
  第四个meta标签表示：告诉设备忽略将页面中的数字识别为电话号码

# 资源参考

  [腾讯Alloyteam 移动Web开发规范](http://alloyteam.github.io/Spirit/modules/Standard/)
  [移动开发20个注意事项](http://sentsin.com/web/54.html)
  [移动端适配方案](https://github.com/riskers/blog/issues/18)
  [MobileWeb适配总结](http://html-js.com/article/MobileWeb)
  [web app变革之rem](http://isux.tencent.com/web-app-rem.html)
  [移动前端开发之viewport的深入理解](http://www.cnblogs.com/2050/p/3877280.html)
